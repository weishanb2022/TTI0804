{"version":3,"sources":["../../../../widgets/AddData/search/ResultCount.js"],"names":["define","declare","number","SearchComponent","template","i18n","util","oThisClass","templateString","typePlural","search","resultCount","itemPlural","typeSingular","itemSingular","postCreate","inherited","arguments","processResults","searchResponse","nHits","total","sType","s","countPattern","replace","format","setNodeText","messageNode"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,OAAO,CAAC,oBAAD,EACH,aADG,EAEH,mBAFG,EAGH,wCAHG,EAIH,0BAJG,EAKH,QALG,CAAP,EAOE,UAASC,OAAT,EAAkBC,MAAlB,EAA0BC,eAA1B,EAA2CC,QAA3C,EAAqDC,IAArD,EAA2DC,IAA3D,EAAiE;;AAE/D,UAAIC,aAAaN,QAAQ,CAACE,eAAD,CAAR,EAA2B;;AAE1CE,kBAAMA,IAFoC;AAG1CG,4BAAgBJ,QAH0B;;AAK1CK,wBAAYJ,KAAKK,MAAL,CAAYC,WAAZ,CAAwBC,UALM;AAM1CC,0BAAcR,KAAKK,MAAL,CAAYC,WAAZ,CAAwBG,YANI;;AAQ1CC,wBAAY,sBAAW;AACrB,uBAAKC,SAAL,CAAeC,SAAf;AACD,aAVyC;;AAY1C;;AAEAC,4BAAgB,wBAASC,cAAT,EAAyB;AACvC,sBAAIC,QAAQD,eAAeE,KAA3B;AACA,sBAAIC,QAAQ,KAAKb,UAAjB;AACA,sBAAIW,UAAU,CAAd,EAAiB;AACfE,gCAAQ,KAAKT,YAAb;AACD;AACD,sBAAIU,IAAI,KAAKlB,IAAL,CAAUK,MAAV,CAAiBC,WAAjB,CAA6Ba,YAArC;AACAD,sBAAIA,EAAEE,OAAF,CAAU,SAAV,EAAqBvB,OAAOwB,MAAP,CAAcN,KAAd,CAArB,CAAJ;AACAG,sBAAIA,EAAEE,OAAF,CAAU,QAAV,EAAoBH,KAApB,CAAJ;AACAhB,uBAAKqB,WAAL,CAAiB,KAAKC,WAAtB,EAAmCL,CAAnC;AACD;;AAxByC,OAA3B,CAAjB;;AA4BA,aAAOhB,UAAP;AACD,CAtCH","file":"ResultCount.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\ndefine([\"dojo/_base/declare\",\r\n    \"dojo/number\",\r\n    \"./SearchComponent\",\r\n    \"dojo/text!./templates/ResultCount.html\",\r\n    \"dojo/i18n!../nls/strings\",\r\n    \"./util\"\r\n  ],\r\n  function(declare, number, SearchComponent, template, i18n, util) {\r\n\r\n    var oThisClass = declare([SearchComponent], {\r\n\r\n      i18n: i18n,\r\n      templateString: template,\r\n\r\n      typePlural: i18n.search.resultCount.itemPlural,\r\n      typeSingular: i18n.search.resultCount.itemSingular,\r\n\r\n      postCreate: function() {\r\n        this.inherited(arguments);\r\n      },\r\n\r\n      /* SearchComponent API ============================================= */\r\n\r\n      processResults: function(searchResponse) {\r\n        var nHits = searchResponse.total;\r\n        var sType = this.typePlural;\r\n        if (nHits === 1) {\r\n          sType = this.typeSingular;\r\n        }\r\n        var s = this.i18n.search.resultCount.countPattern;\r\n        s = s.replace(\"{count}\", number.format(nHits));\r\n        s = s.replace(\"{type}\", sType);\r\n        util.setNodeText(this.messageNode, s);\r\n      }\r\n\r\n    });\r\n\r\n    return oThisClass;\r\n  });"]}