{"version":3,"sources":["../../../widgets/ZoomSlider/Widget.js"],"names":["define","declare","lang","BaseWidget","html","jimuUtils","Tooltip","keys","on","clazz","name","baseClass","_disabledClass","_verticalClass","_horizontalClass","_floatClass","_cornerTop","_cornerBottom","_cornerLeading","_cornerTrailing","moveTopOnActive","postMixInProperties","jimuCommonNls","window","jimuNls","common","postCreate","inherited","arguments","own","map","hitch","_zoomHandler","setPosition","position","height","_setOrientation","removeClass","btnZoomIn","btnZoomOut","level","getLevel","disabledButton","getMaxZoom","getMinZoom","addClass","addTooltipByDomNode","zoomIn","zoomOut","_onBtnZoomInClicked","_extentUtil","numLevels","_onBtnZoomOutClicked","_onBtnZoomInKeyDown","evt","keyCode","ENTER","SPACE","_onBtnZoomOutKeyDown","isVertical","domNode"],"mappings":"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","file":"Widget.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine([\r\n    'dojo/_base/declare',\r\n    'dojo/_base/lang',\r\n    'jimu/BaseWidget',\r\n    'dojo/_base/html',\r\n    'jimu/utils',\r\n    'dijit/Tooltip',\r\n    'dojo/keys',\r\n    'dojo/on'\r\n  ],\r\n  function(declare, lang, BaseWidget, html, jimuUtils, Tooltip, keys, on) {\r\n    var clazz = declare([BaseWidget], {\r\n      name: 'ZoomSlider',\r\n\r\n      baseClass: 'jimu-widget-zoomslider',\r\n\r\n      _disabledClass: 'jimu-state-disabled',\r\n      _verticalClass: 'vertical',\r\n      _horizontalClass: 'horizontal',\r\n      _floatClass: 'jimu-float-leading',\r\n      _cornerTop: 'jimu-corner-top',\r\n      _cornerBottom: 'jimu-corner-bottom',\r\n      _cornerLeading: 'jimu-corner-leading',\r\n      _cornerTrailing: 'jimu-corner-trailing',\r\n\r\n      moveTopOnActive: false,\r\n\r\n      postMixInProperties:function(){\r\n        this.jimuCommonNls = window.jimuNls.common;\r\n      },\r\n\r\n      postCreate: function(){\r\n        this.inherited(arguments);\r\n\r\n        this.own(on(this.map, 'zoom-end', lang.hitch(this, this._zoomHandler)));\r\n        this._zoomHandler();\r\n      },\r\n\r\n      setPosition: function(position){\r\n        this.inherited(arguments);\r\n        if(typeof position.height === 'number' && position.height <= 30){\r\n          this._setOrientation(false);\r\n        }else{\r\n          this._setOrientation(true);\r\n        }\r\n      },\r\n\r\n      _zoomHandler: function(){\r\n        html.removeClass(this.btnZoomIn, this._disabledClass);\r\n        html.removeClass(this.btnZoomOut, this._disabledClass);\r\n        var level = this.map.getLevel();\r\n        var disabledButton = null;\r\n        if(level > -1){\r\n          if(level === this.map.getMaxZoom()){\r\n            disabledButton = this.btnZoomIn;\r\n          }else if(level === this.map.getMinZoom()){\r\n            disabledButton = this.btnZoomOut;\r\n          }\r\n        }\r\n        if(disabledButton){\r\n          html.addClass(disabledButton, this._disabledClass);\r\n        }\r\n        //add tooltip for zoom btns\r\n        jimuUtils.addTooltipByDomNode(Tooltip, this.btnZoomIn, this.jimuCommonNls.zoomIn);\r\n        jimuUtils.addTooltipByDomNode(Tooltip, this.btnZoomOut, this.jimuCommonNls.zoomOut);\r\n      },\r\n\r\n      _onBtnZoomInClicked: function(){\r\n        this.map._extentUtil({ numLevels: 1});\r\n      },\r\n\r\n      _onBtnZoomOutClicked: function(){\r\n        this.map._extentUtil({ numLevels: -1});\r\n      },\r\n\r\n      _onBtnZoomInKeyDown: function(evt){\r\n        if(evt.keyCode === keys.ENTER || evt.keyCode === keys.SPACE){\r\n          this._onBtnZoomInClicked();\r\n        }\r\n      },\r\n\r\n      _onBtnZoomOutKeyDown: function(evt){\r\n        if(evt.keyCode === keys.ENTER || evt.keyCode === keys.SPACE){\r\n          this._onBtnZoomOutClicked();\r\n        }\r\n      },\r\n\r\n      _setOrientation: function(isVertical){\r\n        html.removeClass(this.domNode, this._horizontalClass);\r\n        html.removeClass(this.domNode, this._verticalClass);\r\n\r\n        html.removeClass(this.btnZoomIn, this._floatClass);\r\n        html.removeClass(this.btnZoomIn, this._cornerTop);\r\n        html.removeClass(this.btnZoomIn, this._cornerLeading);\r\n\r\n        html.removeClass(this.btnZoomOut, this._floatClass);\r\n        html.removeClass(this.btnZoomOut, this._cornerBottom);\r\n        html.removeClass(this.btnZoomOut, this._cornerTrailing);\r\n\r\n        if(isVertical){\r\n          html.addClass(this.domNode, this._verticalClass);\r\n          html.addClass(this.btnZoomIn, this._cornerTop);\r\n          html.addClass(this.btnZoomOut, this._cornerBottom);\r\n        }else{\r\n          html.addClass(this.domNode, this._horizontalClass);\r\n          html.addClass(this.btnZoomIn, this._floatClass);\r\n          html.addClass(this.btnZoomOut, this._floatClass);\r\n          html.addClass(this.btnZoomIn, this._cornerLeading);\r\n          html.addClass(this.btnZoomOut, this._cornerTrailing);\r\n        }\r\n      }\r\n\r\n    });\r\n    return clazz;\r\n  });"]}