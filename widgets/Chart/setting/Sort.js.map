{"version":3,"sources":["../../../../widgets/Chart/setting/Sort.js"],"names":["define","declare","html","_WidgetBase","_TemplatedMixin","_WidgetsInTemplateMixin","Evented","template","UpdownArrow","utils","baseClass","templateString","postCreate","inherited","arguments","_initSelf","getConfig","isAsc","isLabelAxis","labelRadio","checked","labelSortDir","getState","valueSortDir","config","showValueActions","hasClass","valueActionDiv","showField","sortFieldDiv","field","sortField","get","setConfig","setChecked","valueRadio","setState","set","setFieldOptions","fieldOption","_clearSortFields","_hideFieldSelect","_showFieldSelect","updateOptions","reset","clearField","_showLabelActionsDiv","placeAt","labelSortArrowDiv","valueSortArrowDiv","_onLabelRadioChanged","check","_showValueActionsDiv","removeOption","getOptions","removeClass","addClass","labelActionDiv"],"mappings":"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","file":"Sort.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine([\r\n    'dojo/_base/declare',\r\n    'dojo/_base/html',\r\n    'dijit/_WidgetBase',\r\n    'dijit/_TemplatedMixin',\r\n    'dijit/_WidgetsInTemplateMixin',\r\n    'dojo/Evented',\r\n    'dojo/text!./Sort.html',\r\n    './UpdownArrow',\r\n    './utils',\r\n    'dijit/form/RadioButton',\r\n    'dijit/form/Select'\r\n  ],\r\n  function(declare, html, _WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin, Evented,\r\n    template, UpdownArrow, utils) {\r\n    return declare([_WidgetBase, Evented, _TemplatedMixin, _WidgetsInTemplateMixin], {\r\n      baseClass: 'jimu-widget-chart-setting-sort',\r\n      templateString: template,\r\n\r\n      //config\r\n      //isLabelAxis boolean\r\n      //isAsc boolean\r\n      //field string\r\n\r\n      postCreate: function() {\r\n        this.inherited(arguments);\r\n        this._initSelf();\r\n      },\r\n\r\n      getConfig: function() {\r\n        var isAsc;\r\n        var isLabelAxis = this.labelRadio.checked;\r\n        if (isLabelAxis) {\r\n          isAsc = this.labelSortDir.getState();\r\n        } else {\r\n          isAsc = this.valueSortDir.getState();\r\n        }\r\n        var config = {\r\n          isLabelAxis: isLabelAxis,\r\n          isAsc: isAsc\r\n        };\r\n        var showValueActions = !html.hasClass(this.valueActionDiv, 'hide');\r\n        var showField = !html.hasClass(this.sortFieldDiv, 'hide');\r\n        if (showValueActions && showField) {\r\n          config.field = this.sortField.get('value');\r\n        }\r\n        return config;\r\n      },\r\n\r\n      setConfig: function(config) {\r\n        if (!config) {\r\n          return;\r\n        }\r\n        var isLabelAxis = config.isLabelAxis;\r\n        var isAsc = config.isAsc;\r\n        this.labelRadio.setChecked(isLabelAxis);\r\n        this.valueRadio.setChecked(!isLabelAxis);\r\n        this.labelSortDir.setState(isAsc);\r\n        this.valueSortDir.setState(isAsc);\r\n        if (config.field) {\r\n          this.sortField.set('value', config.field);\r\n        }\r\n      },\r\n\r\n      setFieldOptions: function(fieldOption) {\r\n        if (!fieldOption) {\r\n          this._clearSortFields();\r\n          this._hideFieldSelect();\r\n          return;\r\n        }\r\n        this._showFieldSelect();\r\n        var field = this.sortField.get('value');\r\n        this._clearSortFields();\r\n        utils.updateOptions(this.sortField, fieldOption, field);\r\n      },\r\n\r\n      reset: function(clearField) {\r\n        this.labelRadio.setChecked(true);\r\n        this._showLabelActionsDiv();\r\n        this.labelSortDir.setState(true);\r\n        this.valueSortDir.setState(true);\r\n        this._hideFieldSelect();\r\n        if (clearField) {\r\n          this._clearSortFields();\r\n        }\r\n      },\r\n\r\n      _initSelf: function() {\r\n        this.labelSortDir = new UpdownArrow();\r\n        this.labelSortDir.placeAt(this.labelSortArrowDiv);\r\n\r\n        this.valueSortDir = new UpdownArrow();\r\n        this.valueSortDir.placeAt(this.valueSortArrowDiv);\r\n      },\r\n\r\n      _onLabelRadioChanged: function(check) {\r\n        if (check) {\r\n          this._showLabelActionsDiv();\r\n        } else {\r\n          this._showValueActionsDiv();\r\n        }\r\n      },\r\n\r\n      _clearSortFields: function() {\r\n        this.sortField.removeOption(this.sortField.getOptions());\r\n        this.sortField.set('value');\r\n      },\r\n\r\n      _showFieldSelect: function() {\r\n        html.removeClass(this.sortFieldDiv, 'hide');\r\n      },\r\n\r\n      _hideFieldSelect: function() {\r\n        html.addClass(this.sortFieldDiv, 'hide');\r\n      },\r\n\r\n      _showLabelActionsDiv: function() {\r\n        html.removeClass(this.labelActionDiv, 'hide');\r\n        html.addClass(this.valueActionDiv, 'hide');\r\n      },\r\n\r\n      _showValueActionsDiv: function() {\r\n        html.addClass(this.labelActionDiv, 'hide');\r\n        html.removeClass(this.valueActionDiv, 'hide');\r\n      }\r\n\r\n    });\r\n  });"]}