{"version":3,"sources":["../../../../widgets/Chart/a11y/Widget.js"],"names":["define","keys","html","focusUtil","mo","_onChartListKeydown","event","keyCode","ENTER","tr","target","srcElement","_enterIntoChartTr","_onChartParamsKeydown","ESCAPE","stopPropagation","focus","paramsBack","_onBtnParamsBackKeydown","_onBtnParamsBackClicked","_onClearBtnKeydown","isChartParamsPage","getStyle","chartParams","isChartResults","chartResults","backOptions","TAB","shiftKey","preventDefault","btnApply","resultsContainer","_onBtnClearAllClicked","_onApplyBtnKeydown","_onBtnApplyClicked","_onChartResultsKeydown","_onResultsBackKeydown","_onBtnResultsBackClicked"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,OAAO,CACH,WADG,EAEH,iBAFG,EAGH,aAHG,CAAP,EAKE,UAASC,IAAT,EAAeC,IAAf,EAAqBC,SAArB,EAAgC;AAC9B,MAAIC,KAAK,EAAT;AACA;AACAA,KAAGC,mBAAH,GAAyB,UAASC,KAAT,EAAgB;AACvC,QAAIA,MAAMC,OAAN,KAAkBN,KAAKO,KAA3B,EAAkC;AAChC,UAAIC,KAAKH,MAAMI,MAAN,IAAgBJ,MAAMK,UAA/B;AACA,WAAKC,iBAAL,CAAuBH,EAAvB;AACD;AACF,GALD;AAMA;AACAL,KAAGS,qBAAH,GAA2B,UAASP,KAAT,EAAgB;AACzC,QAAIA,MAAMC,OAAN,KAAkBN,KAAKa,MAA3B,EAAmC;AACjCR,YAAMS,eAAN;AACAZ,gBAAUa,KAAV,CAAgB,KAAKC,UAArB;AACD;AACF,GALD;AAMA;AACAb,KAAGc,uBAAH,GAA6B,UAASZ,KAAT,EAAgB;AAC3C,QAAIA,MAAMC,OAAN,KAAkBN,KAAKO,KAA3B,EAAkC;AAChC,WAAKW,uBAAL;AACD;AACF,GAJD;AAKA;AACAf,KAAGgB,kBAAH,GAAwB,UAASd,KAAT,EAAgB;AACtC,QAAIe,oBAAoBnB,KAAKoB,QAAL,CAAc,KAAKC,WAAnB,EAAgC,SAAhC,MAA+C,MAAvE;AACA,QAAIC,iBAAiBtB,KAAKoB,QAAL,CAAc,KAAKG,YAAnB,EAAiC,SAAjC,MAAgD,MAArE;AACA,QAAInB,MAAMC,OAAN,KAAkBN,KAAKa,MAA3B,EAAmC;AACjCR,YAAMS,eAAN;AACA,UAAIM,iBAAJ,EAAuB;AACrBlB,kBAAUa,KAAV,CAAgB,KAAKC,UAArB;AACD,OAFD,MAEO,IAAIO,cAAJ,EAAoB;AACzBrB,kBAAUa,KAAV,CAAgB,KAAKU,WAArB;AACD;AACF;AACD,QAAIpB,MAAMC,OAAN,KAAkBN,KAAK0B,GAAvB,IAA8B,CAACrB,MAAMsB,QAAzC,EAAmD;AACjD,UAAIP,iBAAJ,EAAuB;AACrBf,cAAMuB,cAAN;AACA1B,kBAAUa,KAAV,CAAgB,KAAKc,QAArB;AACD,OAHD,MAGO,IAAIN,cAAJ,EAAoB;AACzBlB,cAAMuB,cAAN;AACA1B,kBAAUa,KAAV,CAAgB,KAAKe,gBAArB;AACD;AACF;AACD,QAAIzB,MAAMC,OAAN,KAAkBN,KAAKO,KAA3B,EAAkC;AAChC,WAAKwB,qBAAL;AACD;AACF,GAvBD;AAwBA;AACA5B,KAAG6B,kBAAH,GAAwB,UAAS3B,KAAT,EAAgB;AACtC,QAAIA,MAAMC,OAAN,KAAkBN,KAAKO,KAA3B,EAAkC;AAChC,WAAK0B,kBAAL;AACD;AAEF,GALD;AAMA;AACA9B,KAAG+B,sBAAH,GAA4B,UAAS7B,KAAT,EAAgB;AAC1C,QAAIA,MAAMC,OAAN,KAAkBN,KAAKa,MAA3B,EAAmC;AACjCR,YAAMS,eAAN;AACAZ,gBAAUa,KAAV,CAAgB,KAAKU,WAArB;AACD;AAEF,GAND;AAOA;AACAtB,KAAGgC,qBAAH,GAA2B,UAAS9B,KAAT,EAAgB;AACzC,QAAIA,MAAMC,OAAN,KAAkBN,KAAKO,KAA3B,EAAkC;AAChC,WAAK6B,wBAAL;AACD;AACF,GAJD;AAKA,SAAOjC,EAAP;AACD,CA1EH","file":"Widget.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine([\r\n    'dojo/keys',\r\n    'dojo/_base/html',\r\n    'dijit/focus'\r\n  ],\r\n  function(keys, html, focusUtil) {\r\n    var mo = {};\r\n    //Chart list enter\r\n    mo._onChartListKeydown = function(event) {\r\n      if (event.keyCode === keys.ENTER) {\r\n        var tr = event.target || event.srcElement;\r\n        this._enterIntoChartTr(tr);\r\n      }\r\n    };\r\n    //For chart params page esc\r\n    mo._onChartParamsKeydown = function(event) {\r\n      if (event.keyCode === keys.ESCAPE) {\r\n        event.stopPropagation();\r\n        focusUtil.focus(this.paramsBack);\r\n      }\r\n    };\r\n    //Back to chart list button\r\n    mo._onBtnParamsBackKeydown = function(event) {\r\n      if (event.keyCode === keys.ENTER) {\r\n        this._onBtnParamsBackClicked();\r\n      }\r\n    };\r\n    //In chart params page, when tapping the tab key on the clear button, move focus to apply btn\r\n    mo._onClearBtnKeydown = function(event) {\r\n      var isChartParamsPage = html.getStyle(this.chartParams, 'display') !== 'none';\r\n      var isChartResults = html.getStyle(this.chartResults, 'display') !== 'none';\r\n      if (event.keyCode === keys.ESCAPE) {\r\n        event.stopPropagation();\r\n        if (isChartParamsPage) {\r\n          focusUtil.focus(this.paramsBack);\r\n        } else if (isChartResults) {\r\n          focusUtil.focus(this.backOptions);\r\n        }\r\n      }\r\n      if (event.keyCode === keys.TAB && !event.shiftKey) {\r\n        if (isChartParamsPage) {\r\n          event.preventDefault();\r\n          focusUtil.focus(this.btnApply);\r\n        } else if (isChartResults) {\r\n          event.preventDefault();\r\n          focusUtil.focus(this.resultsContainer);\r\n        }\r\n      }\r\n      if (event.keyCode === keys.ENTER) {\r\n        this._onBtnClearAllClicked();\r\n      }\r\n    };\r\n    //Apply button enter\r\n    mo._onApplyBtnKeydown = function(event) {\r\n      if (event.keyCode === keys.ENTER) {\r\n        this._onBtnApplyClicked();\r\n      }\r\n\r\n    };\r\n    //For chart params page esc\r\n    mo._onChartResultsKeydown = function(event) {\r\n      if (event.keyCode === keys.ESCAPE) {\r\n        event.stopPropagation();\r\n        focusUtil.focus(this.backOptions);\r\n      }\r\n\r\n    };\r\n    //Back to chart params button\r\n    mo._onResultsBackKeydown = function(event) {\r\n      if (event.keyCode === keys.ENTER) {\r\n        this._onBtnResultsBackClicked();\r\n      }\r\n    };\r\n    return mo;\r\n  });"]}