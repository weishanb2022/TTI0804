{"version":3,"sources":["../../../../widgets/LayerList/setting/Setting.js"],"names":["define","declare","BaseWidgetSetting","LayerInfos","_WidgetsInTemplateMixin","LayerSelector","baseClass","startup","inherited","arguments","setConfig","config","createLayerSelector","layerInfosObj","getInstanceSync","layerSelector","operLayerInfos","placeAt","layerSelectorDiv","titleValue","showTitle","setValue","showBasemap","showLegend","expandAllLayersByDefault","contextMenu","zoomto","ZoomTo","transparency","Transparency","setVisibilityRange","SetVisibilityRange","controlPopup","EnableOrDisablePopup","controlLabels","ControlLabels","moveupDown","MoveupOrMovedown","table","OpenAttributeTable","url","DescriptionOrShowItemDetailsOrDownload","getConfig","getValue","layerOptions","getLayerOptions"],"mappings":"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","file":"Setting.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine([\r\n    'dojo/_base/declare',\r\n    'jimu/BaseWidgetSetting',\r\n    'jimu/LayerInfos/LayerInfos',\r\n    'dijit/_WidgetsInTemplateMixin',\r\n    './LayerSelector',\r\n    'dijit/form/CheckBox',\r\n    'jimu/dijit/CheckBox'\r\n  ],\r\n  function(\r\n    declare,\r\n    BaseWidgetSetting,\r\n    LayerInfos,\r\n    _WidgetsInTemplateMixin,\r\n    LayerSelector) {\r\n    return declare([BaseWidgetSetting, _WidgetsInTemplateMixin], {\r\n\r\n      baseClass: 'jimu-widget-layerList-setting',\r\n\r\n      startup: function() {\r\n        this.inherited(arguments);\r\n        this.setConfig(this.config);\r\n        this.createLayerSelector();\r\n      },\r\n\r\n      createLayerSelector: function() {\r\n        var layerInfosObj = LayerInfos.getInstanceSync();\r\n        this.layerSelector = new LayerSelector({\r\n          operLayerInfos: layerInfosObj,\r\n          config: this.config\r\n        }).placeAt(this.layerSelectorDiv);\r\n      },\r\n\r\n\r\n      setConfig: function(config) {\r\n        // compitible with old verion, undefined means 'show title'\r\n        var titleValue = config.showTitle === false ? false : true;\r\n        this.showTitle.setValue(titleValue);\r\n        this.showBasemap.setValue(config.showBasemap);\r\n        this.showLegend.setValue(config.showLegend);\r\n        this.expandAllLayersByDefault.setValue(config.expandAllLayersByDefault);\r\n        if(config.contextMenu) {\r\n          this.zoomto.setValue(config.contextMenu.ZoomTo);\r\n          this.transparency.setValue(config.contextMenu.Transparency);\r\n          this.setVisibilityRange.setValue(config.contextMenu.SetVisibilityRange);\r\n          this.controlPopup.setValue(config.contextMenu.EnableOrDisablePopup);\r\n          this.controlLabels.setValue(config.contextMenu.ControlLabels);\r\n          this.moveupDown.setValue(config.contextMenu.MoveupOrMovedown);\r\n          this.table.setValue(config.contextMenu.OpenAttributeTable);\r\n          this.url.setValue(config.contextMenu.DescriptionOrShowItemDetailsOrDownload);\r\n        }\r\n      },\r\n\r\n      getConfig: function() {\r\n        this.config.showTitle = this.showTitle.getValue();\r\n        this.config.showBasemap = this.showBasemap.getValue();\r\n        this.config.showLegend = this.showLegend.getValue();\r\n        this.config.expandAllLayersByDefault = this.expandAllLayersByDefault.getValue();\r\n        if(!this.config.contextMenu) {\r\n          this.config.contextMenu = {};\r\n        }\r\n        this.config.contextMenu.ZoomTo = this.zoomto.getValue();\r\n        this.config.contextMenu.Transparency = this.transparency.getValue();\r\n        this.config.contextMenu.SetVisibilityRange = this.setVisibilityRange.getValue();\r\n        this.config.contextMenu.EnableOrDisablePopup = this.controlPopup.getValue();\r\n        this.config.contextMenu.ControlLabels = this.controlLabels.getValue();\r\n        this.config.contextMenu.MoveupOrMovedown = this.moveupDown.getValue();\r\n        this.config.contextMenu.OpenAttributeTable = this.table.getValue();\r\n        this.config.contextMenu.DescriptionOrShowItemDetailsOrDownload = this.url.getValue();\r\n        this.config.layerOptions = this.layerSelector.getLayerOptions();\r\n        return this.config;\r\n      }\r\n\r\n    });\r\n  });\r\n"]}