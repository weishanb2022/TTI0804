{"version":3,"sources":["../../../widgets/ExtentNavigate/Widget.js"],"names":["define","on","declare","lang","html","jimuUtils","Tooltip","keys","BaseWidget","Navigation","clazz","name","navToolbar","baseClass","_disabledClass","_verticalClass","_horizontalClass","_floatClass","_cornerTop","_cornerBottom","_cornerLeading","_cornerTrailing","moveTopOnActive","postCreate","inherited","arguments","map","own","hitch","_onExtentHistoryChange","btnPrevious","title","nls","previousExtent","btnNext","nextExtent","addTooltipByDomNode","isFirstExtent","addClass","removeClass","isLastExtent","_onBtnPreviousClicked","zoomToPrevExtent","_onBtnPreviousKeyDown","evt","keyCode","ENTER","SPACE","_onBtnNextClicked","zoomToNextExtent","_onBtnNextKeyDown","setPosition","position","height","setOrientation","isVertical","domNode"],"mappings":"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","file":"Widget.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine([\r\n    'dojo/on',\r\n    'dojo/_base/declare',\r\n    'dojo/_base/lang',\r\n    'dojo/_base/html',\r\n    'jimu/utils',\r\n    'dijit/Tooltip',\r\n    'dojo/keys',\r\n    'jimu/BaseWidget',\r\n    'esri/toolbars/navigation'\r\n  ],\r\n  function(on, declare, lang, html, jimuUtils, Tooltip, keys, BaseWidget, Navigation) {\r\n    var clazz = declare([BaseWidget], {\r\n      name: 'ExtentNavigate',\r\n      navToolbar: null,\r\n\r\n      baseClass: 'jimu-widget-extent-navigate',\r\n      _disabledClass: 'jimu-state-disabled',\r\n      _verticalClass: 'vertical',\r\n      _horizontalClass: 'horizontal',\r\n      _floatClass: 'jimu-float-leading',\r\n      _cornerTop: 'jimu-corner-top',\r\n      _cornerBottom: 'jimu-corner-bottom',\r\n      _cornerLeading: 'jimu-corner-leading',\r\n      _cornerTrailing: 'jimu-corner-trailing',\r\n\r\n      moveTopOnActive: false,\r\n\r\n      postCreate: function(){\r\n        this.inherited(arguments);\r\n        this.navToolbar = new Navigation(this.map);\r\n        this.own(on(this.navToolbar, 'extent-history-change', lang.hitch(this, this._onExtentHistoryChange)));\r\n        this.btnPrevious.title = this.nls.previousExtent;\r\n        this.btnNext.title = this.nls.nextExtent;\r\n        this._onExtentHistoryChange();\r\n\r\n        //add tooltip for navigation btns\r\n        jimuUtils.addTooltipByDomNode(Tooltip, this.btnPrevious, this.nls.previousExtent);\r\n        jimuUtils.addTooltipByDomNode(Tooltip, this.btnNext, this.nls.nextExtent);\r\n      },\r\n\r\n      _onExtentHistoryChange: function(){\r\n        if(this.navToolbar.isFirstExtent()){\r\n          html.addClass(this.btnPrevious, this._disabledClass);\r\n        }else{\r\n          html.removeClass(this.btnPrevious, this._disabledClass);\r\n        }\r\n\r\n        if(this.navToolbar.isLastExtent()){\r\n          html.addClass(this.btnNext, this._disabledClass);\r\n        }else{\r\n          html.removeClass(this.btnNext, this._disabledClass);\r\n        }\r\n      },\r\n\r\n      _onBtnPreviousClicked: function(){\r\n        this.navToolbar.zoomToPrevExtent();\r\n      },\r\n\r\n      _onBtnPreviousKeyDown: function(evt){\r\n        if(evt.keyCode === keys.ENTER || evt.keyCode === keys.SPACE){\r\n          this._onBtnPreviousClicked();\r\n        }\r\n      },\r\n\r\n      _onBtnNextClicked: function(){\r\n        this.navToolbar.zoomToNextExtent();\r\n      },\r\n\r\n      _onBtnNextKeyDown: function(evt){\r\n        if(evt.keyCode === keys.ENTER || evt.keyCode === keys.SPACE){\r\n          this._onBtnNextClicked();\r\n        }\r\n      },\r\n\r\n      setPosition: function(position){\r\n        this.inherited(arguments);\r\n        if(typeof position.height === 'number' && position.height <= 30){\r\n          this.setOrientation(false);\r\n        }else{\r\n          this.setOrientation(true);\r\n        }\r\n      },\r\n\r\n      setOrientation: function(isVertical){\r\n        html.removeClass(this.domNode, this._horizontalClass);\r\n        html.removeClass(this.domNode, this._verticalClass);\r\n\r\n        html.removeClass(this.btnPrevious, this._floatClass);\r\n        html.removeClass(this.btnPrevious, this._cornerTop);\r\n        html.removeClass(this.btnPrevious, this._cornerLeading);\r\n\r\n        html.removeClass(this.btnNext, this._floatClass);\r\n        html.removeClass(this.btnNext, this._cornerBottom);\r\n        html.removeClass(this.btnNext, this._cornerTrailing);\r\n\r\n        if(isVertical){\r\n          html.addClass(this.domNode, this._verticalClass);\r\n          html.addClass(this.btnPrevious, this._cornerTop);\r\n          html.addClass(this.btnNext, this._cornerBottom);\r\n        }else{\r\n          html.addClass(this.domNode, this._horizontalClass);\r\n          html.addClass(this.btnPrevious, this._floatClass);\r\n          html.addClass(this.btnNext, this._floatClass);\r\n          html.addClass(this.btnPrevious, this._cornerLeading);\r\n          html.addClass(this.btnNext, this._cornerTrailing);\r\n        }\r\n      }\r\n\r\n    });\r\n    return clazz;\r\n  });"]}