{"version":3,"sources":["../../../widgets/Analysis/HelpContent.js"],"names":["define","require","array","declare","lang","kernel","has","_Widget","Popup","esriNS","esriLang","esriRequest","HelpWindow","basePath","toUrl","onlineHelpMap","showLearnMore","postMixInProperties","inherited","arguments","postCreate","rtlLocales","i","rLocale","url","length","locale","indexOf","_isRightToLeft","_getAbsoluteUrl","then","hitch","result","map","test","window","location","protocol","host","_computeSize","helpId","size","w","h","generateHelpUrl","helpFileName","appLocale","helpLocales","containerAppUrl","helpUrl","locArr","env","resourcesHelpLocales","_analysisGpServer","clone","split","toUpperCase","_setHelpTopic","tooltipHelpDlg","destroy","learnMoreUrl","isDefined","structure","nls","learnMore","show","event","params","console","log","analysisGpServer","titleLabel","content","width","maxHeight","setObject"],"mappings":"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","file":"HelpContent.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine(\r\n[\r\n  \"require\",\r\n  \"dojo/_base/array\",\r\n  \"dojo/_base/declare\",\r\n  \"dojo/_base/lang\",\r\n  \"dojo/_base/kernel\",\r\n  \"dojo/has\",\r\n\r\n  \"dijit/_Widget\",\r\n  'jimu/dijit/Popup',\r\n\r\n  \"esri/kernel\",\r\n  \"esri/lang\",\r\n  \"esri/request\"\r\n],\r\n\r\nfunction(require, array, declare, lang, kernel, has,\r\n  _Widget, Popup, esriNS, esriLang, esriRequest) {\r\n\r\n  var HelpWindow = declare([_Widget], {\r\n    basePath: require.toUrl(\"esri/dijit/analysis\"),\r\n    onlineHelpMap: null,\r\n    showLearnMore: false,\r\n    \"class\": \"esriAnalyisHelpWindow\",\r\n\r\n    postMixInProperties: function() {\r\n      this.inherited(arguments);\r\n    },\r\n\r\n    postCreate: function(){\r\n      this.inherited(arguments);\r\n      //on domnode leave close the help window\r\n      var rtlLocales = [\"ar\", \"he\"], i, rLocale, url;\r\n      this.onlineHelpMap = {};\r\n      for(i = 0; i < rtlLocales.length; i = i + 1) {\r\n        rLocale = rtlLocales[i];\r\n        if (kernel.locale && kernel.locale.indexOf(rLocale) !== -1) {\r\n          if(kernel.locale.indexOf(\"-\") !== -1) {\r\n            if(kernel.locale.indexOf(rLocale + \"-\") !== -1) {\r\n              this._isRightToLeft = true;\r\n            }\r\n          }\r\n          else {\r\n            this._isRightToLeft = true;\r\n          }\r\n        }\r\n      }\r\n      url = this._getAbsoluteUrl(this.basePath) + \"/help/helpmap.json\";\r\n\r\n      esriRequest({\"url\":url}).then(lang.hitch(this, function(result){\r\n        this.onlineHelpMap = result.map;\r\n      }));\r\n    },\r\n\r\n    _getAbsoluteUrl: function(url) {\r\n      if (/^https?\\:/i.test(url)) {\r\n        return url;\r\n      } else if (/^\\/\\//i.test(url)) {\r\n        // Example: \"//dczpx2rvsugxm.cloudfront.net/cdn/2419/js/esri/dijit\"\r\n        // https://devext.arcgis.com/home/webmap/viewer.html?useExisting=1\r\n        return window.location.protocol + url;\r\n      } else if (/^\\//i.test(url)) {\r\n        // Example: \"/jsapi/src/js/esri/dijit\"\r\n        // http://pponnusamy.esri.com:9090/jsapi/mapapps/testing/v34/amd/map-legacy.html\r\n        return window.location.protocol + \"//\" + window.location.host + url;\r\n      }\r\n    },\r\n\r\n    _computeSize: function(helpId) {\r\n      var size = {\r\n        w: 400,\r\n        h: 200\r\n      };\r\n      if(helpId.indexOf(\"Category\") !== -1) {\r\n        size.w = 400;\r\n        size.h = 320;\r\n      }\r\n      else if(helpId.indexOf(\"Tool\") !== -1) {\r\n        size.w = 400;\r\n        size.h = 320;\r\n      }\r\n      else if(helpId.indexOf(\"toolDescription\") !== -1) {\r\n        size.w = 400;\r\n        size.h = 520;\r\n      }\r\n      return size;\r\n    },\r\n\r\n    generateHelpUrl: function(helpFileName, helpId){\r\n      var appLocale, helpLocales, containerAppUrl, helpUrl, locArr,\r\n          env, resourcesHelpLocales;\r\n\r\n      env = (this._analysisGpServer && this._analysisGpServer.indexOf(\"dev\") !== -1) ?\r\n          \"dev\" : ((this._analysisGpServer && this._analysisGpServer.indexOf(\"qa\") !== -1) ?\r\n            \"uat\" : \"\");\r\n      appLocale = lang.clone(kernel.locale);\r\n      if (appLocale === \"nb\") {\r\n        appLocale = \"no\";\r\n      }\r\n      //TODO: add `sk` if needed.\r\n      helpLocales = [\"ar\", \"cs\", \"da\", \"de\", \"es\", \"et\", \"fi\", \"fr\", \"it\", \"ja\",\r\n        \"ko\", \"lt\", \"lv\", \"ru\", \"nl\", \"no\", \"pl\", \"pt-br\", \"pt-pt\", \"ro\", \"sv\", \"th\",\r\n        \"tr\", \"vi\", \"zh-cn\"];\r\n      resourcesHelpLocales = [\"ar\", \"da\", \"de\", \"es\", \"fr\", \"it\", \"ja\", \"ko\", \"ru\",\r\n        \"nl\", \"no\", \"pl\", \"pt-br\", \"pt-pt\", \"ro\", \"sv\", \"zh-cn\"];\r\n      containerAppUrl = require.toUrl(\"esri/dijit/analysis/help/\");\r\n      helpUrl = containerAppUrl + helpFileName + \".html\";\r\n\r\n      if (array.indexOf(helpLocales, appLocale) !== -1) {\r\n        if(appLocale.indexOf(\"-\") !== -1) {\r\n          locArr = appLocale.split(\"-\");\r\n          appLocale = locArr[0] + \"-\" + locArr[1].toUpperCase();\r\n        }\r\n        helpUrl = containerAppUrl + appLocale + \"/\" + helpFileName + \".html\";\r\n      }\r\n\r\n      return helpUrl + '#' + helpId;\r\n    },\r\n\r\n    _setHelpTopic: function(helpId) {\r\n      //console.log(helpId);\r\n      if(this.tooltipHelpDlg) {\r\n        this.tooltipHelpDlg.destroy();\r\n        this.tooltipHelpDlg = null;\r\n      }\r\n      var appLocale, helpLocales, containerAppUrl, size, helpUrl, locArr,\r\n          learnMoreUrl, env, resourcesHelpLocales;\r\n      this.showLearnMore = false; //default case\r\n      env = (this._analysisGpServer && this._analysisGpServer.indexOf(\"dev\") !== -1) ?\r\n          \"dev\" : ((this._analysisGpServer && this._analysisGpServer.indexOf(\"qa\") !== -1) ?\r\n            \"uat\" : \"\");\r\n      appLocale = lang.clone(kernel.locale);\r\n      if (appLocale === \"nb\") {\r\n        appLocale = \"no\";\r\n      }\r\n      // copied from arcgis-js-api/esri/dijit/analysis/HelpWindow.js\r\n      helpLocales = [\"ar\", \"bg\", \"bs\", \"ca\", \"cs\", \"da\", \"de\", \"es\", \"el\", \"et\", \"fi\", \"fr\", \"he\", \"hr\", \"hu\", \"id\", \"it\", \"ja\",\r\n      \"ko\", \"lt\", \"lv\", \"ru\", \"nl\", \"no\", \"pl\", \"pt-br\", \"pt-pt\", \"ro\", \"sl\", \"sk\", \"sv\", \"sr\", \"th\", \"tr\", \"uk\", \"vi\", \"zh-cn\",\r\n      \"zh-hk\", \"zh-tw\"];\r\n      resourcesHelpLocales = [\"ar\", \"de\", \"es\", \"fr\", \"it\", \"ja\", \"ko\", \"ru\", \"pl\", \"pt-br\", \"zh-cn\"];\r\n      containerAppUrl = require.toUrl(\"esri/dijit/analysis/help/\");\r\n      helpUrl = containerAppUrl + this.helpFileName + \".html\";\r\n\r\n      if(esriLang.isDefined(this.onlineHelpMap[this.helpFileName]) &&\r\n          esriLang.isDefined(this.onlineHelpMap[this.helpFileName][helpId]) ) {\r\n        this.showLearnMore = true;\r\n        learnMoreUrl = \"http://doc\" + env + \".arcgis.com/en/arcgis-online/use-maps/\" +\r\n            this.onlineHelpMap[this.helpFileName][helpId];\r\n      }\r\n\r\n      if (array.indexOf(helpLocales, appLocale) !== -1) {\r\n        if(appLocale.indexOf(\"-\") !== -1) {\r\n          locArr = appLocale.split(\"-\");\r\n          appLocale = locArr[0] + \"-\" + locArr[1].toUpperCase();\r\n        }\r\n        helpUrl = containerAppUrl + appLocale + \"/\" + this.helpFileName + \".html\";\r\n      }\r\n\r\n      if (array.indexOf(resourcesHelpLocales, appLocale) !== -1) {\r\n        if(this.showLearnMore) {\r\n          learnMoreUrl = \"http://doc\" + env + \".arcgis.com/\" + appLocale +\r\n              \"/arcgis-online/use-maps/\" + this.onlineHelpMap[this.helpFileName][helpId];\r\n        }\r\n      }\r\n      //check for learn more\r\n\r\n      size = this._computeSize(helpId);\r\n      this.structure =\r\n       \"<div class='' style='position:relative'>\" +\r\n          \"<div class='sizer content'>\" +\r\n            \"<div class='contentPane'>\" +\r\n             \"<iframe frameborder='0'  id='\" + helpId + \"' src='\" + helpUrl + \"#\" + helpId +\r\n              \"' width='\" + size.w + \"' height='\" + size.h  +\r\n              \"' marginheight='0' marginwidth='0'></iframe>\" +\r\n            \"</div>\" +\r\n          \"</div>\" +\r\n          \"<div class='sizer'>\" +\r\n            \"<div class='actionsPane'>\" +\r\n              \"<div class='actionList\" + (this.showLearnMore? \"'>\": \" hidden'>\") +\r\n                \"<a class='action zoomTo' href='\" +\r\n                  (this.showLearnMore? learnMoreUrl : \"#\")  +\r\n                  \"' target='_help'>\" + this.nls.learnMore + \"</a>\" +\r\n              \"</div>\" +\r\n            \"</div>\" +\r\n          \"</div>\" +\r\n          \"</div>\" +\r\n        \"</div>\" ;\r\n    },\r\n\r\n    show: function(event, params) {\r\n      //console.log(\"showing help for ID\", helpId) ;\r\n      console.log(event);\r\n      this.helpFileName =  params.helpFileName;\r\n      this._analysisGpServer = params.analysisGpServer;\r\n      this._setHelpTopic(params.helpId);\r\n\r\n      new Popup({\r\n        titleLabel: this.helpFileName,\r\n        content: this.structure,\r\n        width: 480,\r\n        maxHeight: 300\r\n      });\r\n    }\r\n  });\r\n\r\n  if (has(\"extend-esri\")) {\r\n    lang.setObject(\"dijit.analysis.HelpWindow\", HelpWindow, esriNS);\r\n  }\r\n  return HelpWindow;\r\n});\r\n\r\n"]}