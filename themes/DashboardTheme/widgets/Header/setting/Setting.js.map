{"version":3,"sources":["../../../../../../themes/DashboardTheme/widgets/Header/setting/Setting.js"],"names":["define","declare","on","array","lang","html","Color","_WidgetsInTemplateMixin","BaseWidgetSetting","jimuUtils","portalUtils","ColorPickerPopup","SharedThemeChooserPopup","baseClass","darkColor","lightColor","startup","inherited","arguments","_createTooltipDialog","config","mode","popup","setChecked","ACTION","ORG","_getOrgColor","then","hitch","color","_changeLabel","CUSTOM","SHARED","_getThemeColor","colorPickerPopup","setColor","mainBackgroundColor","getObject","appConfig","own","domNode","isOpen","showPopup","hidePopup","sharedTheme","placeAt","getParent","nls","around","colorPicker","isPortalSupported","isPortalSupport","btn","event","showOrgThemeColor","showSharedThemeColor","showCustomColor","showColorPickerOK","showLabel","recordUID","hideTooltipDialog","newColor","empty","style","background","toHex","create","innerHTML","sanitizeHTML","className","invertColor","portal","getPortal","portalUrl","loadSelfInfo","selfInfo","portalProperties","header","err","console","error","styles","stopPropagation","preventDefault","showTooltipDialog","initUI","destroy","picker","setConfig","getConfig"],"mappings":"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","file":"Setting.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine([\r\n    'dojo/_base/declare',\r\n    'dojo/on',\r\n    'dojo/_base/array',\r\n    'dojo/_base/lang',\r\n    'dojo/_base/html',\r\n    'dojo/_base/Color',\r\n    'dijit/_WidgetsInTemplateMixin',\r\n    'jimu/BaseWidgetSetting',\r\n    'jimu/utils',\r\n    'jimu/portalUtils',\r\n    'jimu/dijit/ColorPickerPopup',\r\n    './SharedThemeChooserPopup',\r\n  ],\r\n  function(\r\n    declare, on, array, lang, html, Color, _WidgetsInTemplateMixin,  BaseWidgetSetting, jimuUtils, portalUtils, ColorPickerPopup, SharedThemeChooserPopup) {\r\n    /*jscs: disable maximumLineLength*/\r\n    return declare([BaseWidgetSetting, _WidgetsInTemplateMixin], {\r\n      //these two properties is defined in the BaseWidget\r\n      baseClass: 'dashboard-header-setting',\r\n      darkColor: '#444444',\r\n      lightColor: '#EEEEEE',\r\n\r\n      startup: function () {\r\n        this.inherited(arguments);\r\n\r\n        this._createTooltipDialog();\r\n\r\n        if (this.config.mode) {\r\n          if (this.config.mode === 'org') {\r\n            this.popup.setChecked(this.popup.ACTION.ORG);\r\n            // get org shared color dynamically\r\n            this._getOrgColor().then(lang.hitch(this, function(color) {\r\n              this._changeLabel(new Color(color));\r\n            }));\r\n          } else if (this.config.mode === 'custom') {\r\n            this.popup.setChecked(this.popup.ACTION.CUSTOM);\r\n            // static custom color\r\n            this._changeLabel(new Color(this.config.color));\r\n          } else {\r\n            this.popup.setChecked(this.popup.ACTION.SHARED);\r\n            // get theme color dynamically\r\n            var color = this._getThemeColor();\r\n            this._changeLabel(new Color(color));\r\n          }\r\n          this.colorPickerPopup.setColor(new Color(this.config.color));\r\n        } else {\r\n          var mainBackgroundColor = lang.getObject('theme.customStyles.mainBackgroundColor', false, this.appConfig);\r\n          if (mainBackgroundColor) {\r\n            // use custom style\r\n            this._getOrgColor().then(lang.hitch(this, function(color) {\r\n              if (color === mainBackgroundColor) {\r\n                this.popup.setChecked(this.popup.ACTION.ORG);\r\n                this._getOrgColor().then(lang.hitch(this, function(color) {\r\n                  this._changeLabel(new Color(color));\r\n                }));\r\n              } else {\r\n                this.popup.setChecked(this.popup.ACTION.CUSTOM);\r\n                this._changeLabel(new Color(mainBackgroundColor));\r\n              }\r\n            }));\r\n          } else {\r\n            // use theme style\r\n            this.popup.setChecked(this.popup.ACTION.SHARED);\r\n            var color = this._getThemeColor();\r\n            this._changeLabel(new Color(color));\r\n          }\r\n        }\r\n        //hover display\r\n        this.own(on(this.domNode, 'mouseenter', lang.hitch(this, function (/*event*/) {\r\n          if (!this.colorPickerPopup.isOpen()) {\r\n            this.popup.showPopup();//disable hover when colorPickerPopup opened\r\n          }\r\n        })));\r\n        this.own(on(this.domNode, 'mouseleave', lang.hitch(this, function (/*event*/) {\r\n          if (!this.colorPickerPopup.isOpen()) {\r\n            this.popup.hidePopup();\r\n          }\r\n        })));\r\n      },\r\n\r\n      _createTooltipDialog: function () {\r\n        var sharedTheme = lang.getObject('theme.sharedTheme', false, this.appConfig);\r\n        this.popup = new SharedThemeChooserPopup({\r\n          placeAt: this.getParent(),\r\n          nls: this.nls,\r\n          around: this.colorPicker,\r\n          isPortalSupported: sharedTheme && sharedTheme.isPortalSupport\r\n        });\r\n        this.own(on(this.popup, 'btnClick', lang.hitch(this, function (btn, event) {\r\n          if (btn === this.popup.ACTION.ORG) {\r\n            this.showOrgThemeColor();\r\n          } else if (btn === this.popup.ACTION.SHARED) {\r\n            this.showSharedThemeColor();\r\n          } else if (btn === this.popup.ACTION.CUSTOM) {\r\n            this.showCustomColor(event);\r\n          }\r\n        })));\r\n\r\n        this.colorPickerPopup = new ColorPickerPopup({\r\n          showColorPickerOK: true,\r\n          showLabel: false,\r\n          recordUID: this.recordUID,\r\n          around: this.domNode\r\n        });\r\n        this.colorPickerPopup.placeAt(this.getParent());\r\n        this.colorPickerPopup.startup();\r\n\r\n        this.own(on(this.colorPickerPopup, 'change', lang.hitch(this, function (color) {\r\n          this.config.color = color;\r\n          this.config.mode = 'custom';\r\n          this._changeLabel(color);\r\n          this.popup.setChecked(this.popup.ACTION.CUSTOM);\r\n          this.popup.hideTooltipDialog();\r\n        })));\r\n      },\r\n\r\n      _changeLabel: function (newColor) {\r\n        html.empty(this.colorPicker);\r\n        this.colorPicker.style.background = newColor.toHex();\r\n        html.create('span', {\r\n          innerHTML: jimuUtils.sanitizeHTML(newColor.toHex()),\r\n          className: \"color-label\",\r\n          style: {\r\n            color: jimuUtils.invertColor(newColor.toHex())\r\n          }\r\n        }, this.colorPicker);\r\n      },\r\n\r\n      _getOrgColor: function() {\r\n        var portal = portalUtils.getPortal(this.appConfig.portalUrl);\r\n        return portal.loadSelfInfo().then(lang.hitch(this, function (selfInfo) {\r\n          if (selfInfo && selfInfo.portalProperties && selfInfo.portalProperties.sharedTheme &&\r\n            selfInfo.portalProperties.sharedTheme.header) {\r\n            return selfInfo.portalProperties.sharedTheme.header.background;\r\n          }\r\n        }), lang.hitch(this, function (err) {\r\n          console.error(err);\r\n        }));\r\n      },\r\n\r\n      _getThemeColor: function() {\r\n        var styles = lang.getObject('theme.styles', false, this.appConfig);\r\n        if (styles[0] !== 'light') {\r\n          return this.darkColor;\r\n        }\r\n        return this.lightColor;\r\n      },\r\n\r\n      showOrgThemeColor: function() {\r\n        this.config.mode = 'org';\r\n        html.empty(this.colorPicker);\r\n        this.colorPicker.style.background = 'transparent';\r\n        this.popup.setChecked(this.popup.ACTION.ORG);\r\n        this.popup.hideTooltipDialog();\r\n\r\n        this._getOrgColor().then(lang.hitch(this, function(color) {\r\n          this._changeLabel(new Color(color));\r\n        }));\r\n      },\r\n\r\n      showSharedThemeColor: function () {\r\n        this.config.mode = 'theme';\r\n        html.empty(this.colorPicker);\r\n        this.colorPicker.style.background = 'transparent';\r\n        this.popup.setChecked(this.popup.ACTION.SHARED);\r\n        this.popup.hideTooltipDialog();\r\n\r\n        var color = this._getThemeColor();\r\n        this._changeLabel(new Color(color));\r\n      },\r\n\r\n      showCustomColor: function (event) {\r\n        this.config.mode = 'custom';\r\n        if (event) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n\r\n        //close own popup\r\n        this.popup.hidePopup();\r\n\r\n        this.colorPickerPopup.showTooltipDialog();\r\n        this.colorPickerPopup.initUI();\r\n      },\r\n\r\n      destroy: function () {\r\n        if (this.colorPickerPopup) {\r\n          this.colorPickerPopup.picker.destroy();\r\n        }\r\n        if (this.popup) {\r\n          this.popup.destroy();\r\n        }\r\n        this.inherited(arguments);\r\n      },\r\n\r\n      setConfig: function(config) {\r\n        this.config = config || {};\r\n      },\r\n\r\n      getConfig: function() {\r\n        return this.config;\r\n      }\r\n    });\r\n  });"]}