{"version":3,"sources":["../../../../../../themes/DashboardTheme/widgets/Header/setting/SharedThemeChooserPopup.js"],"names":["define","Evented","declare","_WidgetBase","_TemplatedMixin","_WidgetsInTemplateMixin","lang","html","on","TooltipDialog","template","dojoPopup","declaredClass","templateString","_DISAPPEAR_TIMER","_isTooltipDialogOpened","placeAt","isPortalSupported","ACTION","postMixInProperties","inherited","arguments","nls","mixin","builderNls","ORG","SHARED","CUSTOM","postCreate","_createTooltipDialog","addClass","orgItem","own","hitch","event","stopPropagation","preventDefault","orgClickHanlder","sharedItem","sharedClickHanlder","customItem","customClickHanlder","_hideTooltipDialog","destroy","close","tooltipDialog","hideTooltipDialog","showTooltipDialog","_showTooltipDialog","getTooltipDialog","domNode","open","parent","getParent","popup","around","emit","content","showPopup","hidePopup","setChecked","btn","removeClass","orgCheck","sharedCheck","customCheck","_clearDisappearTimer","_miniModeTimer","clearTimeout"],"mappings":"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","file":"SharedThemeChooserPopup.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© Esri. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//    http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine(['dojo/Evented',\r\n  'dojo/_base/declare',\r\n  'dijit/_WidgetBase',\r\n  'dijit/_TemplatedMixin',\r\n  'dijit/_WidgetsInTemplateMixin',\r\n  'dojo/_base/lang',\r\n  'dojo/_base/html',\r\n  'dojo/on',\r\n  'dijit/TooltipDialog',\r\n  'dojo/text!./SharedThemeChooserPopup.html',\r\n  'dijit/popup'\r\n],\r\n  function (Evented, declare, _WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin,\r\n    lang, html, on, TooltipDialog, template, dojoPopup) {\r\n    return declare([_WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin, Evented], {\r\n      declaredClass: 'shared-theme-chooser-popup',\r\n      templateString: template,\r\n\r\n      _DISAPPEAR_TIMER: null,//hover display\r\n      _isTooltipDialogOpened: false,\r\n      placeAt: null,\r\n      isPortalSupported: null,\r\n      ACTION: null,\r\n\r\n      postMixInProperties: function () {\r\n        this.inherited(arguments);\r\n        this.nls = lang.mixin(this.nls, builderNls);\r\n\r\n        this.ACTION = {\r\n          ORG: \"org\",\r\n          SHARED: \"shared\",\r\n          CUSTOM: \"custom\"\r\n        };\r\n      },\r\n\r\n      postCreate: function () {\r\n        this.inherited(arguments);\r\n\r\n        this._createTooltipDialog();\r\n\r\n        if (!this.isPortalSupported) {\r\n          html.addClass(this.orgItem, 'no-support');\r\n        }\r\n        //Buttons\r\n        this.own(on(this.orgItem, 'click', lang.hitch(this, function (event) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n          if (this.isPortalSupported) {\r\n            this.orgClickHanlder(event);\r\n          }\r\n        })));\r\n        this.own(on(this.sharedItem, 'click', lang.hitch(this, function (event) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n          this.sharedClickHanlder(event);\r\n        })));\r\n        this.own(on(this.customItem, 'click', lang.hitch(this, function (event) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n          this.customClickHanlder(event);\r\n        })));\r\n\r\n        this._hideTooltipDialog();\r\n      },\r\n\r\n      destroy: function () {\r\n        dojoPopup.close(this.tooltipDialog);\r\n        this.tooltipDialog.destroy();\r\n        this.inherited(arguments);\r\n      },\r\n\r\n      hideTooltipDialog: function () {\r\n        this._hideTooltipDialog();\r\n      },\r\n      showTooltipDialog: function () {\r\n        this._showTooltipDialog();\r\n      },\r\n      getTooltipDialog: function () {\r\n        if (this.tooltipDialog && this.tooltipDialog.domNode) {\r\n          return this.tooltipDialog;\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n      _showTooltipDialog: function () {\r\n        if (true === this._isTooltipDialogOpened) {\r\n          return;\r\n        }\r\n\r\n        dojoPopup.open({\r\n          parent: this.placeAt || this.getParent(),\r\n          popup: this.tooltipDialog,\r\n          around: this.around\r\n        });\r\n        this._isTooltipDialogOpened = true;\r\n\r\n        this.emit(\"showPopup\");\r\n      },\r\n      _hideTooltipDialog: function () {\r\n        dojoPopup.close(this.tooltipDialog);\r\n        this._isTooltipDialogOpened = false;\r\n      },\r\n      _createTooltipDialog: function () {\r\n        this.tooltipDialog = new TooltipDialog({\r\n          content: this.domNode\r\n        });\r\n\r\n        html.addClass(this.tooltipDialog.domNode, \"shared-theme-chooser-popup-container\");\r\n        //mouse hover on this.popup\r\n        var tooltipDialog = this.getTooltipDialog();\r\n        this.own(on(tooltipDialog.domNode, 'mouseover', lang.hitch(this, function (event) {\r\n          this.showPopup(event);\r\n        })));\r\n        this.own(on(tooltipDialog.domNode, 'mouseleave', lang.hitch(this, function (event) {\r\n          this.hidePopup(event);\r\n        })));\r\n      },\r\n\r\n      orgClickHanlder: function (event) {\r\n        this.emit(\"btnClick\", this.ACTION.ORG, event);\r\n      },\r\n      sharedClickHanlder: function (event) {\r\n        this.emit(\"btnClick\", this.ACTION.SHARED, event);\r\n      },\r\n      customClickHanlder: function (event) {\r\n        this.emit(\"btnClick\", this.ACTION.CUSTOM, event);\r\n      },\r\n      setChecked: function (btn) {\r\n        html.removeClass(this.orgCheck, \"check\");\r\n        html.removeClass(this.sharedCheck, \"check\");\r\n        html.removeClass(this.customCheck, \"check\");\r\n\r\n        if (btn === this.ACTION.ORG && this.isPortalSupported) {\r\n          html.addClass(this.orgCheck, \"check\");\r\n        }\r\n        if (btn === this.ACTION.SHARED) {\r\n          html.addClass(this.sharedCheck, \"check\");\r\n        }\r\n        if (btn === this.ACTION.CUSTOM) {\r\n          html.addClass(this.customCheck, \"check\");\r\n        }\r\n      },\r\n\r\n      showPopup: function (event) {\r\n        if (event) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n\r\n        this._clearDisappearTimer();\r\n        if (this._isTooltipDialogOpened === false) {\r\n          this.showTooltipDialog();\r\n          this._isTooltipDialogOpened = true;\r\n        }\r\n      },\r\n      hidePopup: function (event) {\r\n        if (event) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n        //this._setDisappearTimer();\r\n        this.hideTooltipDialog();\r\n        this._isTooltipDialogOpened = false;\r\n      },\r\n      _clearDisappearTimer: function () {\r\n        if (this._miniModeTimer) {\r\n          clearTimeout(this._miniModeTimer);\r\n        }\r\n      }\r\n    });\r\n  });"]}